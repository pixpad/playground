const _0xcf97=['addEventListener','onload','height','toggle','width','deg','filter','0deg','preventDefault','naturalWidth','setItem','change','forEach','stringify','getElementById','#parameter-values','rgb(','toString','colors','target','floor','serialize','_btn','onerror','biggestDimension','map','backgroundColor','contrast','length','push','naturalHeight','brightness','innerHTML',')\x20hue-rotate(','100%','image/png','toDataURL','createElement','split','style','data','sample','palette','canvas','appendChild','dither','load','brightness(','getContext','FloydSteinberg','getImageData','src','drawImage','croppedImage','putImageData',')\x20saturate(','set','button',')\x20contrast(','hasChildNodes','#colors\x20button','output','hue','reduce'];(function(_0x5b1c8b,_0xcf97f5){const _0x25b54d=function(_0x26d64b){while(--_0x26d64b){_0x5b1c8b['push'](_0x5b1c8b['shift']());}};_0x25b54d(++_0xcf97f5);}(_0xcf97,0x1e3));const _0x25b5=function(_0x5b1c8b,_0xcf97f5){_0x5b1c8b=_0x5b1c8b-0x0;let _0x25b54d=_0xcf97[_0x5b1c8b];return _0x25b54d;};let renderPreview=()=>{let _0x58f48f=$(_0x25b5('0x2c'))[_0x25b5('0x32')]()['split']('&')[_0x25b5('0x36')](_0x4a3e15=>_0x4a3e15[_0x25b5('0x3')]('='))[_0x25b5('0x1c')]((_0x51925f,_0x591f7b)=>({..._0x51925f,[_0x591f7b[0x0]]:_0x591f7b[0x1]}),{});process(biggestDimension=parseInt(_0x58f48f[_0x25b5('0x35')]),brightness=parseInt(_0x58f48f[_0x25b5('0x3c')])+0x64+'%',contrast=parseInt(_0x58f48f[_0x25b5('0x38')])+0x64+'%',hue=parseInt(_0x58f48f[_0x25b5('0x1b')])*1.8+_0x25b5('0x22'),saturation=parseInt(_0x58f48f['saturation'])+0x64+'%',dither=_0x58f48f[_0x25b5('0xa')]?_0x25b5('0xe'):null,customPalette=palette);};$(_0x25b5('0x2c'))[_0x25b5('0x28')](renderPreview);const updateTextInput=(_0x4ca363,_0x453ec3)=>document[_0x25b5('0x2b')](_0x453ec3)[_0x25b5('0x3d')]=_0x4ca363;const rawPalette=[[0x0,0x0,0x0],[0x3c,0x3c,0x3c],[0x6e,0x6e,0x6e],[0xb4,0xb4,0xb4],[0xff,0xff,0xfe],[0xfa,0xe0,0xc5],[0xe8,0xa5,0x79],[0xff,0xe5,0x45],[0xb3,0x55,0x12],[0x54,0x36,0x29],[0xfc,0xb8,0xe2],[0xd6,0x15,0x69],[0x9f,0xd4,0x44],[0x4d,0xdb,0xff],[0x16,0x72,0xb5],[0xb,0x33,0x7d],[0xf2,0x51,0x24],[0xbf,0x1d,0x21],[0x70,0x23,0x2c],[0x7d,0x1c,0x8a]];let palette=[];const createPalette=()=>{palette=[];document['querySelectorAll'](_0x25b5('0x19'))[_0x25b5('0x29')](_0x291db1=>{if(_0x291db1['className']=='')palette['push'](rawPalette[parseInt(_0x291db1['id'])]);});};const setButton=_0x4c9bf2=>{let _0x179cbe=document[_0x25b5('0x2')](_0x25b5('0x16'));document[_0x25b5('0x2b')](_0x25b5('0x2f'))[_0x25b5('0x9')](_0x179cbe);_0x179cbe[_0x25b5('0x4')][_0x25b5('0x37')]=_0x25b5('0x2d')+rawPalette[_0x4c9bf2][_0x25b5('0x2e')]()+')';_0x179cbe['id']=_0x4c9bf2+_0x25b5('0x33');_0x179cbe['onclick']=_0x497c88=>{_0x497c88[_0x25b5('0x25')]();_0x497c88[_0x25b5('0x30')]['classList'][_0x25b5('0x20')]('deactivated');createPalette();renderPreview();};};const createPaletteButtons=_0x5a8969=>{if(colors[_0x25b5('0x18')]()){colors[_0x25b5('0x3d')]='';}if(_0x5a8969===0x1){for(i=0x0;i<0x5;i++)setButton(i);}else{let _0x1a8212=0x0;for(i=0x0;i<rawPalette[_0x25b5('0x39')];i++){setButton(i);if(_0x1a8212===0x4){colors[_0x25b5('0x9')](document['createElement']('br'));_0x1a8212=-0x1;}_0x1a8212++;}}};const getImage=_0x2e4cac=>{return new Promise((_0x3cf400,_0x55189a)=>{let _0x5847ed=new Image();_0x5847ed[_0x25b5('0x1e')]=()=>_0x3cf400(_0x5847ed);_0x5847ed[_0x25b5('0x34')]=_0x55189a;_0x5847ed[_0x25b5('0x10')]=_0x2e4cac;});};const pixelate=async(_0x4a4782,_0x2c26ed,_0x2aac0d,_0x5d1a91,_0x565c61)=>{const _0x750444=await getImage(localStorage['getItem'](_0x25b5('0x12')));let _0xcd960f=_0x750444[_0x25b5('0x21')];let _0x672f28=_0x750444[_0x25b5('0x1f')];let _0x1f5790=_0xcd960f;let _0x40fd52=_0x672f28;if(_0xcd960f>_0x672f28){_0x672f28*=_0x4a4782/_0xcd960f;if(_0x4a4782%0x32==0x0)_0x672f28=Math[_0x25b5('0x31')](_0x672f28-_0x672f28%0x32);else _0x672f28=Math['floor'](_0x672f28-_0x672f28%0x20);_0xcd960f=_0x4a4782;_0x40fd52=_0x1f5790*_0x672f28/_0xcd960f;}else{_0xcd960f*=_0x4a4782/_0x672f28;if(_0x4a4782%0x32==0x0)_0xcd960f=Math[_0x25b5('0x31')](_0xcd960f-_0xcd960f%0x32);else _0xcd960f=Math[_0x25b5('0x31')](_0xcd960f-_0xcd960f%0x20);_0x672f28=_0x4a4782;_0x1f5790=_0x40fd52*_0xcd960f/_0x672f28;}let _0x589a59=document[_0x25b5('0x2')](_0x25b5('0x8'));_0x589a59[_0x25b5('0x21')]=_0xcd960f;_0x589a59[_0x25b5('0x1f')]=_0x672f28;let _0x5852e7=_0x589a59['getContext']('2d');_0x5852e7[_0x25b5('0x23')]=_0x25b5('0xc')+_0x2c26ed+_0x25b5('0x17')+_0x2aac0d+_0x25b5('0x3e')+_0x5d1a91+_0x25b5('0x14')+_0x565c61+')';_0x5852e7[_0x25b5('0x11')](_0x750444,0x0,0x0,_0x1f5790,_0x40fd52,0x0,0x0,_0xcd960f,_0x672f28);let _0x281f91=_0x589a59[_0x25b5('0x1')](_0x25b5('0x0'));document[_0x25b5('0x2b')]('output')[_0x25b5('0x10')]=_0x281f91;};let quantize=(_0xbcfd1,_0x2efe6e)=>{let _0x14e9af=new RgbQuant({'palette':_0x2efe6e,'dithKern':_0xbcfd1});let _0x30d7eb=document[_0x25b5('0x2b')](_0x25b5('0x1a'));_0x14e9af[_0x25b5('0x6')](_0x30d7eb,0x64);let _0x43a22c=_0x14e9af[_0x25b5('0x7')]();let _0x1c0ce8=_0x14e9af['reduce'](_0x30d7eb);let _0x4c8d30=document[_0x25b5('0x2')](_0x25b5('0x8'));let _0x32dd0a=_0x30d7eb[_0x25b5('0x26')];let _0x366ad1=_0x30d7eb[_0x25b5('0x3b')];_0x4c8d30[_0x25b5('0x21')]=_0x32dd0a;_0x4c8d30['height']=_0x366ad1;let _0x3e2a3d=_0x4c8d30[_0x25b5('0xd')]('2d');let _0x4d8a57=_0x3e2a3d['createImageData'](_0x32dd0a,_0x366ad1);_0x4d8a57[_0x25b5('0x5')][_0x25b5('0x15')](_0x1c0ce8);_0x3e2a3d[_0x25b5('0x13')](_0x4d8a57,0x0,0x0);const _0x5e84db=_0x3e2a3d['getImageData'](0x0,0x0,_0x32dd0a,_0x366ad1);const _0x58f889=_0x5e84db[_0x25b5('0x5')];let _0x2cbd07=[];for(let _0x5efb97=0x0;_0x5efb97<_0x5e84db['height']*_0x5e84db[_0x25b5('0x21')]*0x4;_0x5efb97+=_0x5e84db[_0x25b5('0x21')]*0x4){let _0x2c9f1f=[];for(let _0x382681=0x0;_0x382681<_0x5e84db[_0x25b5('0x21')]*0x4;_0x382681+=0x4){_0x2c9f1f[_0x25b5('0x3a')]([_0x5efb97+'_'+_0x382681,_0x25b5('0x2d')+_0x58f889[_0x5efb97+_0x382681]+','+_0x58f889[_0x5efb97+_0x382681+0x1]+','+_0x58f889[_0x5efb97+_0x382681+0x2]+')']);}_0x2cbd07[_0x25b5('0x3a')](_0x2c9f1f);}localStorage[_0x25b5('0x27')](_0x25b5('0x8'),JSON[_0x25b5('0x2a')](_0x2cbd07));let _0x4f6a13=_0x4c8d30[_0x25b5('0x1')](_0x25b5('0x0'));document['getElementById'](_0x25b5('0x1a'))[_0x25b5('0x10')]=_0x4f6a13;};const process=async(_0x4979d5=0x40,_0x36d7b0=_0x25b5('0x3f'),_0x5be57d=_0x25b5('0x3f'),_0x41266a=_0x25b5('0x24'),_0x4e4c9f=_0x25b5('0x3f'),_0x1d9589=null,_0x228ac2=rawPalette)=>{await pixelate(_0x4979d5,_0x36d7b0,_0x5be57d,_0x41266a,_0x4e4c9f);quantize(_0x1d9589,_0x228ac2);};const saveCanvasData=()=>{const _0x415c2d=document[_0x25b5('0x2b')](_0x25b5('0x1a'));const _0x466449=document[_0x25b5('0x2')](_0x25b5('0x8'));const _0xac49a6=_0x466449[_0x25b5('0xd')]('2d');_0x415c2d[_0x25b5('0x1d')](_0x25b5('0xb'),()=>{const _0x5b7fa4=_0x415c2d[_0x25b5('0x21')];const _0x253462=_0x415c2d[_0x25b5('0x1f')];let _0x4c129d=_0xac49a6[_0x25b5('0xf')](0x0,0x0,_0x5b7fa4,_0x253462);});};$(document)['ready'](()=>{createPaletteButtons(0x0);createPalette();process();});
