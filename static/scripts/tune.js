const _0x576d=['100%','biggestDimension','toggle','contrast','sample','#colors\x20button','_btn','palette','push','toDataURL','createImageData','createElement','deg','style','#parameter-values','map','brightness','value','serialize','toString','getItem',')\x20hue-rotate(','reduce','ready','split','deactivated','getElementById','croppedImage','naturalHeight','innerHTML','data','0deg','output','target','className','getContext','drawImage','dither','querySelectorAll','setItem','hue','FloydSteinberg','canvas','rgb(','hasChildNodes','change','button','image/png','floor','onerror','saturation','forEach','filter','src','classList','stringify','appendChild','height','width','naturalWidth','OPTION'];(function(_0x406b45,_0x576d28){const _0x82bd53=function(_0x4b16e8){while(--_0x4b16e8){_0x406b45['push'](_0x406b45['shift']());}};_0x82bd53(++_0x576d28);}(_0x576d,0x172));const _0x82bd=function(_0x406b45,_0x576d28){_0x406b45=_0x406b45-0x0;let _0x82bd53=_0x576d[_0x406b45];return _0x82bd53;};let renderPreview=()=>{let _0x3e6061=$(_0x82bd('0xa'))[_0x82bd('0xe')]()[_0x82bd('0x14')]('&')[_0x82bd('0xb')](_0x29ebd7=>_0x29ebd7['split']('='))[_0x82bd('0x12')]((_0x312ceb,_0x441201)=>({..._0x312ceb,[_0x441201[0x0]]:_0x441201[0x1]}),{});process(biggestDimension=parseInt(_0x3e6061['biggestDimension']),brightness=parseInt(_0x3e6061[_0x82bd('0xc')])+0x64+'%',contrast=parseInt(_0x3e6061[_0x82bd('0x3c')])+0x64+'%',hue=parseInt(_0x3e6061[_0x82bd('0x24')])*1.8+_0x82bd('0x8'),saturation=parseInt(_0x3e6061[_0x82bd('0x2e')])+0x64+'%',dither=_0x3e6061[_0x82bd('0x21')]?_0x82bd('0x25'):null,customPalette=palette);};$(_0x82bd('0xa'))[_0x82bd('0x29')](renderPreview);const updateTextInput=(_0x2f8764,_0x1029ce)=>document[_0x82bd('0x16')](_0x1029ce)[_0x82bd('0x19')]=_0x2f8764;const rawPalette=[[0x0,0x0,0x0],[0x3c,0x3c,0x3c],[0x6e,0x6e,0x6e],[0xb4,0xb4,0xb4],[0xff,0xff,0xfe],[0xfa,0xe0,0xc5],[0xe8,0xa5,0x79],[0xff,0xe5,0x45],[0xb3,0x55,0x12],[0x54,0x36,0x29],[0xfc,0xb8,0xe2],[0xd6,0x15,0x69],[0x9f,0xd4,0x44],[0x4d,0xdb,0xff],[0x16,0x72,0xb5],[0xb,0x33,0x7d],[0xf2,0x51,0x24],[0xbf,0x1d,0x21],[0x70,0x23,0x2c],[0x7d,0x1c,0x8a]];let palette=[];const createPalette=()=>{palette=[];document[_0x82bd('0x22')](_0x82bd('0x1'))[_0x82bd('0x2f')](_0x3f7ee4=>{if(_0x3f7ee4[_0x82bd('0x1e')]=='')palette[_0x82bd('0x4')](rawPalette[parseInt(_0x3f7ee4['id'])]);});};const setButton=_0x2efb21=>{let _0x14d23d=document[_0x82bd('0x7')](_0x82bd('0x2a'));document[_0x82bd('0x16')]('colors')[_0x82bd('0x34')](_0x14d23d);_0x14d23d[_0x82bd('0x9')]['backgroundColor']=_0x82bd('0x27')+rawPalette[_0x2efb21][_0x82bd('0xf')]()+')';_0x14d23d['id']=_0x2efb21+_0x82bd('0x2');_0x14d23d['onclick']=_0x3f7955=>{_0x3f7955['preventDefault']();_0x3f7955[_0x82bd('0x1d')][_0x82bd('0x32')][_0x82bd('0x3b')](_0x82bd('0x15'));createPalette();renderPreview();};};const createPaletteButtons=_0x40d095=>{if(colors[_0x82bd('0x28')]()){colors[_0x82bd('0x19')]='';}if(_0x40d095===0x1){for(i=0x0;i<0x5;i++)setButton(i);}else{let _0x42657b=0x0;for(i=0x0;i<rawPalette['length'];i++){setButton(i);if(_0x42657b===0x4){colors['appendChild'](document['createElement']('br'));_0x42657b=-0x1;}_0x42657b++;}}};const getImage=_0x546637=>{return new Promise((_0x24d7c4,_0x507d9c)=>{let _0x2e0a12=new Image();_0x2e0a12['onload']=()=>_0x24d7c4(_0x2e0a12);_0x2e0a12[_0x82bd('0x2d')]=_0x507d9c;_0x2e0a12[_0x82bd('0x31')]=_0x546637;});};const pixelate=async(_0x4fe3b2,_0x56408b,_0x4bae86,_0x397e9a,_0x546662)=>{const _0x351814=await getImage(localStorage[_0x82bd('0x10')](_0x82bd('0x17')));let _0x27c2d3=_0x351814[_0x82bd('0x36')];let _0x39b15b=_0x351814['height'];let _0x25382d=_0x27c2d3;let _0x4eed68=_0x39b15b;if(_0x27c2d3>_0x39b15b){_0x39b15b*=_0x4fe3b2/_0x27c2d3;if(_0x4fe3b2%0x32==0x0)_0x39b15b=Math[_0x82bd('0x2c')](_0x39b15b-_0x39b15b%0x32);else _0x39b15b=Math[_0x82bd('0x2c')](_0x39b15b-_0x39b15b%0x20);_0x27c2d3=_0x4fe3b2;_0x4eed68=_0x25382d*_0x39b15b/_0x27c2d3;}else{_0x27c2d3*=_0x4fe3b2/_0x39b15b;if(_0x4fe3b2%0x32==0x0)_0x27c2d3=Math[_0x82bd('0x2c')](_0x27c2d3-_0x27c2d3%0x32);else _0x27c2d3=Math[_0x82bd('0x2c')](_0x27c2d3-_0x27c2d3%0x20);_0x39b15b=_0x4fe3b2;_0x25382d=_0x4eed68*_0x27c2d3/_0x39b15b;}let _0x355d00=document[_0x82bd('0x7')](_0x82bd('0x26'));_0x355d00['width']=_0x27c2d3;_0x355d00[_0x82bd('0x35')]=_0x39b15b;let _0x289feb=_0x355d00[_0x82bd('0x1f')]('2d');_0x289feb[_0x82bd('0x30')]='brightness('+_0x56408b+')\x20contrast('+_0x4bae86+_0x82bd('0x11')+_0x397e9a+')\x20saturate('+_0x546662+')';_0x289feb[_0x82bd('0x20')](_0x351814,0x0,0x0,_0x25382d,_0x4eed68,0x0,0x0,_0x27c2d3,_0x39b15b);let _0x1ef3b9=_0x355d00[_0x82bd('0x5')](_0x82bd('0x2b'));document[_0x82bd('0x16')](_0x82bd('0x1c'))['src']=_0x1ef3b9;};let quantize=(_0x1fdb28,_0x384276)=>{let _0x5cd46d=new RgbQuant({'palette':_0x384276,'dithKern':_0x1fdb28});let _0x254f50=document[_0x82bd('0x16')](_0x82bd('0x1c'));_0x5cd46d[_0x82bd('0x0')](_0x254f50,0x64);let _0x549cb1=_0x5cd46d[_0x82bd('0x3')]();let _0x251605=_0x5cd46d['reduce'](_0x254f50);let _0x3c5ff4=document[_0x82bd('0x7')]('canvas');let _0x4475a4=_0x254f50[_0x82bd('0x37')];let _0x1e8f7d=_0x254f50[_0x82bd('0x18')];_0x3c5ff4['width']=_0x4475a4;_0x3c5ff4[_0x82bd('0x35')]=_0x1e8f7d;let _0xba0d27=_0x3c5ff4[_0x82bd('0x1f')]('2d');let _0x1d7314=_0xba0d27[_0x82bd('0x6')](_0x4475a4,_0x1e8f7d);_0x1d7314[_0x82bd('0x1a')]['set'](_0x251605);_0xba0d27['putImageData'](_0x1d7314,0x0,0x0);const _0x326a73=_0xba0d27['getImageData'](0x0,0x0,_0x4475a4,_0x1e8f7d);const _0x171152=_0x326a73['data'];let _0x4f57f2=[];for(let _0x448cbf=0x0;_0x448cbf<_0x326a73[_0x82bd('0x35')]*_0x326a73['width']*0x4;_0x448cbf+=_0x326a73[_0x82bd('0x36')]*0x4){let _0xd62018=[];for(let _0x2b9ad8=0x0;_0x2b9ad8<_0x326a73[_0x82bd('0x36')]*0x4;_0x2b9ad8+=0x4){_0xd62018['push']([_0x448cbf+'_'+_0x2b9ad8,'rgb('+_0x171152[_0x448cbf+_0x2b9ad8]+','+_0x171152[_0x448cbf+_0x2b9ad8+0x1]+','+_0x171152[_0x448cbf+_0x2b9ad8+0x2]+')']);}_0x4f57f2[_0x82bd('0x4')](_0xd62018);}localStorage[_0x82bd('0x23')]('canvas',JSON[_0x82bd('0x33')](_0x4f57f2));let _0x39765a=_0x3c5ff4[_0x82bd('0x5')](_0x82bd('0x2b'));document['getElementById'](_0x82bd('0x1c'))[_0x82bd('0x31')]=_0x39765a;};const process=async(_0x28e822,_0x84aae7='100%',_0x3229db=_0x82bd('0x39'),_0x4233f1=_0x82bd('0x1b'),_0xf6b2d2=_0x82bd('0x39'),_0x2746b7=null,_0x2332da=rawPalette)=>{await pixelate(_0x28e822,_0x84aae7,_0x3229db,_0x4233f1,_0xf6b2d2);quantize(_0x2746b7,_0x2332da);};const createSelect=async()=>{const _0x17e8fa=[0x20,0x32,0x40,0x60,0x64,0x80];const _0x143608=await getImage(localStorage[_0x82bd('0x10')]('croppedImage'));const _0x15ae95=_0x143608[_0x82bd('0x36')];const _0x29360a=_0x143608[_0x82bd('0x35')];const _0x20b5e5=_0x15ae95>_0x29360a?_0x29360a/_0x15ae95:_0x15ae95/_0x29360a;const _0x10b6c8=document[_0x82bd('0x16')](_0x82bd('0x3a'));for(val of _0x17e8fa){if(val*_0x20b5e5%0x20==0x0||val*_0x20b5e5%0x32==0x0){const _0x3409ba=document[_0x82bd('0x7')](_0x82bd('0x38'));_0x10b6c8[_0x82bd('0x34')](_0x3409ba);_0x3409ba[_0x82bd('0xd')]=val;_0x3409ba[_0x82bd('0x19')]=val+'\x20Pixels';}}return _0x10b6c8[_0x82bd('0xd')];};$(document)[_0x82bd('0x13')](async()=>{const _0x4588fe=await createSelect();createPaletteButtons(0x0);createPalette();process(_0x4588fe);});