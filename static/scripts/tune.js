const _0x2f3b=['brightness(','biggestDimension','forEach','filter','contrast','width','style','createElement','toggle','set','drawImage','onerror','floor','stringify','setItem','button','toDataURL','0deg','canvas','getContext','className','ready','croppedImage','onclick',')\x20hue-rotate(','saturation','backgroundColor','reduce','putImageData','colors','data','hasChildNodes','onload','#colors\x20button','push','naturalWidth','rgb(','change','image/png','height','_btn','getElementById','querySelectorAll','innerHTML','100%','deactivated','hue',')\x20saturate(','sample',')\x20contrast(','appendChild','naturalHeight','getItem','split','dither','length','palette','serialize','toString','brightness','src','#parameter-values','target','createImageData','output'];(function(_0x195f7d,_0x2f3b68){const _0x418d98=function(_0x8d6aa6){while(--_0x8d6aa6){_0x195f7d['push'](_0x195f7d['shift']());}};_0x418d98(++_0x2f3b68);}(_0x2f3b,0xce));const _0x418d=function(_0x195f7d,_0x2f3b68){_0x195f7d=_0x195f7d-0x0;let _0x418d98=_0x2f3b[_0x195f7d];return _0x418d98;};let renderPreview=()=>{let _0x4eb67d=$(_0x418d('0x32'))[_0x418d('0x2e')]()[_0x418d('0x2a')]('&')['map'](_0x3d922e=>_0x3d922e[_0x418d('0x2a')]('='))[_0x418d('0x10')]((_0x205c9c,_0x5e388f)=>({..._0x205c9c,[_0x5e388f[0x0]]:_0x5e388f[0x1]}),{});process(biggestDimension=parseInt(_0x4eb67d[_0x418d('0x37')]),brightness=parseInt(_0x4eb67d[_0x418d('0x30')])+0x64+'%',contrast=parseInt(_0x4eb67d[_0x418d('0x3a')])+0x64+'%',hue=parseInt(_0x4eb67d[_0x418d('0x23')])*1.8+'deg',saturation=parseInt(_0x4eb67d[_0x418d('0xe')])+0x64+'%',dither=_0x4eb67d[_0x418d('0x2b')]?'FloydSteinberg':null,customPalette=palette);};$(_0x418d('0x32'))[_0x418d('0x1a')](renderPreview);const updateTextInput=(_0x57f888,_0x5c6ece)=>document[_0x418d('0x1e')](_0x5c6ece)['innerHTML']=_0x57f888;const rawPalette=[[0x0,0x0,0x0],[0x3c,0x3c,0x3c],[0x6e,0x6e,0x6e],[0xb4,0xb4,0xb4],[0xff,0xff,0xfe],[0xfa,0xe0,0xc5],[0xe8,0xa5,0x79],[0xff,0xe5,0x45],[0xb3,0x55,0x12],[0x54,0x36,0x29],[0xfc,0xb8,0xe2],[0xd6,0x15,0x69],[0x9f,0xd4,0x44],[0x4d,0xdb,0xff],[0x16,0x72,0xb5],[0xb,0x33,0x7d],[0xf2,0x51,0x24],[0xbf,0x1d,0x21],[0x70,0x23,0x2c],[0x7d,0x1c,0x8a]];let palette=[];const createPalette=()=>{palette=[];document[_0x418d('0x1f')](_0x418d('0x16'))[_0x418d('0x38')](_0x3ecc0f=>{if(_0x3ecc0f[_0x418d('0x9')]=='')palette[_0x418d('0x17')](rawPalette[parseInt(_0x3ecc0f['id'])]);});};const setButton=_0x583d06=>{let _0x6bb19b=document[_0x418d('0x3d')](_0x418d('0x4'));document[_0x418d('0x1e')](_0x418d('0x12'))[_0x418d('0x27')](_0x6bb19b);_0x6bb19b[_0x418d('0x3c')][_0x418d('0xf')]=_0x418d('0x19')+rawPalette[_0x583d06][_0x418d('0x2f')]()+')';_0x6bb19b['id']=_0x583d06+_0x418d('0x1d');_0x6bb19b[_0x418d('0xc')]=_0x5cbefa=>{_0x5cbefa['preventDefault']();_0x5cbefa[_0x418d('0x33')]['classList'][_0x418d('0x3e')](_0x418d('0x22'));createPalette();renderPreview();};};const createPaletteButtons=_0x34e2a0=>{if(colors[_0x418d('0x14')]()){colors[_0x418d('0x20')]='';}if(_0x34e2a0===0x1){for(i=0x0;i<0x5;i++)setButton(i);}else{let _0x32eb7c=0x0;for(i=0x0;i<rawPalette[_0x418d('0x2c')];i++){setButton(i);if(_0x32eb7c===0x4){colors[_0x418d('0x27')](document[_0x418d('0x3d')]('br'));_0x32eb7c=-0x1;}_0x32eb7c++;}}};const getImage=_0x42acdd=>{return new Promise((_0xa1fdac,_0x5ceb93)=>{let _0x3b57a2=new Image();_0x3b57a2[_0x418d('0x15')]=()=>_0xa1fdac(_0x3b57a2);_0x3b57a2[_0x418d('0x0')]=_0x5ceb93;_0x3b57a2[_0x418d('0x31')]=_0x42acdd;});};const pixelate=async(_0x5b3c78,_0x13c41d,_0x484659,_0x4cbe93,_0x58859e)=>{const _0x3251ce=await getImage(localStorage[_0x418d('0x29')](_0x418d('0xb')));let _0x6fb9c6=_0x3251ce['width'];let _0x1c7e43=_0x3251ce[_0x418d('0x1c')];let _0xa45edf=_0x6fb9c6;let _0x27f023=_0x1c7e43;if(_0x6fb9c6>_0x1c7e43){_0x1c7e43*=_0x5b3c78/_0x6fb9c6;if(_0x5b3c78%0x32==0x0)_0x1c7e43=Math[_0x418d('0x1')](_0x1c7e43-_0x1c7e43%0x32);else _0x1c7e43=Math['floor'](_0x1c7e43-_0x1c7e43%0x20);_0x6fb9c6=_0x5b3c78;_0x27f023=_0xa45edf*_0x1c7e43/_0x6fb9c6;}else{_0x6fb9c6*=_0x5b3c78/_0x1c7e43;if(_0x5b3c78%0x32==0x0)_0x6fb9c6=Math[_0x418d('0x1')](_0x6fb9c6-_0x6fb9c6%0x32);else _0x6fb9c6=Math[_0x418d('0x1')](_0x6fb9c6-_0x6fb9c6%0x20);_0x1c7e43=_0x5b3c78;_0xa45edf=_0x27f023*_0x6fb9c6/_0x1c7e43;}let _0x5d6aad=document[_0x418d('0x3d')](_0x418d('0x7'));_0x5d6aad[_0x418d('0x3b')]=_0x6fb9c6;_0x5d6aad[_0x418d('0x1c')]=_0x1c7e43;let _0xf9cb03=_0x5d6aad[_0x418d('0x8')]('2d');_0xf9cb03[_0x418d('0x39')]=_0x418d('0x36')+_0x13c41d+_0x418d('0x26')+_0x484659+_0x418d('0xd')+_0x4cbe93+_0x418d('0x24')+_0x58859e+')';_0xf9cb03[_0x418d('0x40')](_0x3251ce,0x0,0x0,_0xa45edf,_0x27f023,0x0,0x0,_0x6fb9c6,_0x1c7e43);let _0x10259c=_0x5d6aad[_0x418d('0x5')](_0x418d('0x1b'));document[_0x418d('0x1e')](_0x418d('0x35'))[_0x418d('0x31')]=_0x10259c;};let quantize=(_0xe50aee,_0x4ff180)=>{let _0x326979=new RgbQuant({'palette':_0x4ff180,'dithKern':_0xe50aee});let _0x492677=document[_0x418d('0x1e')]('output');_0x326979[_0x418d('0x25')](_0x492677,0x64);let _0x39e386=_0x326979[_0x418d('0x2d')]();let _0x46ce93=_0x326979[_0x418d('0x10')](_0x492677);let _0x1457fc=document[_0x418d('0x3d')](_0x418d('0x7'));let _0x18460a=_0x492677[_0x418d('0x18')];let _0x35b82a=_0x492677[_0x418d('0x28')];_0x1457fc[_0x418d('0x3b')]=_0x18460a;_0x1457fc[_0x418d('0x1c')]=_0x35b82a;let _0x4e66a3=_0x1457fc[_0x418d('0x8')]('2d');let _0xea2653=_0x4e66a3[_0x418d('0x34')](_0x18460a,_0x35b82a);_0xea2653[_0x418d('0x13')][_0x418d('0x3f')](_0x46ce93);_0x4e66a3[_0x418d('0x11')](_0xea2653,0x0,0x0);const _0x4bb625=_0x4e66a3['getImageData'](0x0,0x0,_0x18460a,_0x35b82a);const _0x200f52=_0x4bb625[_0x418d('0x13')];let _0x40fb51=[];for(let _0x5cbbf3=0x0;_0x5cbbf3<_0x4bb625['height']*_0x4bb625[_0x418d('0x3b')]*0x4;_0x5cbbf3+=_0x4bb625[_0x418d('0x3b')]*0x4){let _0xcf9413=[];for(let _0x58d76f=0x0;_0x58d76f<_0x4bb625[_0x418d('0x3b')]*0x4;_0x58d76f+=0x4){_0xcf9413['push']([_0x5cbbf3+'_'+_0x58d76f,_0x418d('0x19')+_0x200f52[_0x5cbbf3+_0x58d76f]+','+_0x200f52[_0x5cbbf3+_0x58d76f+0x1]+','+_0x200f52[_0x5cbbf3+_0x58d76f+0x2]+')']);}_0x40fb51[_0x418d('0x17')](_0xcf9413);}localStorage[_0x418d('0x3')]('canvas',JSON[_0x418d('0x2')](_0x40fb51));let _0x533dbc=_0x1457fc[_0x418d('0x5')](_0x418d('0x1b'));document[_0x418d('0x1e')](_0x418d('0x35'))[_0x418d('0x31')]=_0x533dbc;};const process=async(_0x10399e=0x40,_0x1114a2=_0x418d('0x21'),_0x332bd6=_0x418d('0x21'),_0x245d54=_0x418d('0x6'),_0x53069d=_0x418d('0x21'),_0x2b3c7b=null,_0x5bfd02=rawPalette)=>{await pixelate(_0x10399e,_0x1114a2,_0x332bd6,_0x245d54,_0x53069d);quantize(_0x2b3c7b,_0x5bfd02);};$(document)[_0x418d('0xa')](()=>{createPaletteButtons(0x0);createPalette();process();});